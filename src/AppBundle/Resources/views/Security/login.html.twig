{% extends 'base.html.twig' %}

{% block title %}
Inicio de sesion
{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css"  href="{{ asset('css/login/style.css') }}"/>
{% endblock %}

{% block body %}

<div class="edge-header" ></div>

    <div class="container free-bird">

        <div class="row">

<div class="card hoverable col-md-10 col-lg-10 col-sm-10 mx-auto float-xs-none white z-depth-5 py-2 px-2">
    <div class="card-block" >

        <div class="form-header red darken-3 z-depth-5 hoverable">
            <h3><i class="fa fa-user-circle-o"></i><strong> Inicio de sesion</strong></h3>
        </div>
              

<form id="formu" action="{{ path('security_login_check') }}" method="POST">

 <div class="md-form error_div">
            <i class="fa fa-graduation-cap prefix"></i>       
        <input type="text" required class="form-control validate vaciuser" id="username" name="_username" value="{{ last_username }}" pattern="[a-z0-9]{5,9}" title="Ingrese solo numeros" placeholder="2010*****"/>
        <label data-error="Incorrecto" data-success="Correcto" for="username">Ingresa tu codigo de estudiante.</label>
            </div>
<br/>
  <div class="md-form error2_div">
            <i class="fa fa-lock prefix"></i>
            <input  type="password" class="form-control validate vacipass"  required id="password" name="_password" pattern="[A-Za-z0-9]{6,20}" title="Ingrese una contraseña válida"/>
        <label data-error="Incorrecto" data-success="Correcto" for="username">Ingresa tu contraseña.</label>
            </div>
<br/>
        <div class="form-inline">
<div class="md-form form-group">
        <div class="text-xs-center">
            <button class="btn btn-danger btn-lg boton waves-effect hoverable" type="submit"><i class="fa fa-sign-in left"></i>Ingresar al sistema</button>
        </div>
        </div>
        <div class="md-form form-group">
         <div class="text-xs-center">
            <button class="btn btn-unique btn-lg waves-light hoverable" type="reset"><i class="fa fa-trash left"></i>Limpiar</button>
        </div>
        </div>
        </div>
    

     
</form>

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  
        <div class="error4_div form-group">	</div>	

	{% if error %}
                {#  {{ error.messageKey|trans(error.messageData) }}#}
       <div class='error3_div alert bg-danger waves-effect text-white z-depth-4 hoverable imenn'> <span  class="close" data-dismiss="alert" aria-label="close">&times;</span><center><strong> <i class="fa fa-1x fa-exclamation-circle left"></i>&nbsp;&nbsp;Error!</strong>
              Codigo o contrase&ntilde;a incorrecta.</center></div>
                        {% endif %}
    
    {% if message == "end" %}
                {#  {{ error.messageKey|trans(error.messageData) }}#}
      <div class='error3_div alert bg-warning waves-effect text-white z-depth-4 hoverable imenn'> <span  class="close" data-dismiss="alert" aria-label="close">&times;</span><center><strong><i class="fa fa-1x fa-exclamation-triangle left"></i>&nbsp;&nbsp;Alerta!</strong> La fecha límite para registrar los invitados es el día  {{ fecha_limite }} a las {{ hora_limite }}.</center></div>
                        {% endif %}

                        {% if message  == "update" %}
                {#  {{ error.messageKey|trans(error.messageData) }}#}
       <div class='error3_div alert alert bg-success waves-effect text-white z-depth-4 hoverable imenn'> <span  class="close" data-dismiss="alert" aria-label="close">&times;</span><center><strong><i class="fa fa-1x fa-check left"></i>&nbsp;&nbsp;Exito!</strong> La contrase&ntilde;a ha sido modificada.</center></div>
                        {% endif %}
    
  
        </div>
    </div>

</div>
           
        </div>
      </div>   
{% include 'AppBundle:Include:alert.html.twig' %}
{% endblock %}

{% block javascripts %}
<script type="text/javascript" src="{{ asset('js/login/script.js') }}" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
var  error="{% if error %} {{ error.messageKey }}  {% endif %}";
var  message="{{ message }}";

     if(error != ""){
$("#mensaje_error").modal('show');
     }

     if(message == "end"){

$("#mensaje_end").modal('show');
     }

if(message == "update"){
$("#mensaje_update").modal('show');
     }

      </script>
{% endblock %}